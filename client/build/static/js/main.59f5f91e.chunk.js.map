{"version":3,"sources":["config/index.js","api/apiClient.js","api/handler/auth.js","stores/userStore.js","utils/toErrorMap.js","validation/auth.schema.js","components/shared/InputField.js","components/modals/ChangePasswordModal.js","components/shared/SelectField.js","api/fetchers.js","api/handler/users.js","pages/Account.js","pages/AuthRoute.js","pages/ForgotPassword.js","components/layouts/AppLayout.js","components/items/FileUploadDialogItem.js","api/handler/files.js","components/modals/AddFileModal.js","components/sections/StyledTooltip.js","components/shared/GuildPills.js","components/sections/AddGuildIcon.js","stores/homeStore.js","components/shared/NotificationIcon.js","components/sections/HomeIcon.js","components/layouts/guild/css/GuildScrollerCSS.js","components/layouts/guild/GuildList.js","components/layouts/home/dashboard/FileListHeader.js","utils/theme.js","components/items/PdfViewer.js","components/modals/FullScreenDialog.js","components/items/FileListItem.js","components/sections/OnlineLabel.js","components/layouts/home/dashboard/FileList.js","components/items/Loading.js","hooks/useFilterData.js","components/layouts/home/dashboard/FilesDashboard.js","components/sections/SidebarButton.js","components/layouts/AccountBar.js","components/layouts/home/css/dmScrollerCSS.js","components/layouts/home/Sidebar.js","pages/Home.js","components/sections/Footer.js","components/shared/Logo.js","components/sections/Navbar.js","components/layouts/LandingLayout.js","components/sections/Hero.js","pages/Landing.js","pages/Login.js","pages/Register.js","pages/ResetPassword.js","components/layouts/home/dashboard/UserListHeader.js","components/items/UserListItem.js","components/layouts/home/dashboard/UserList.js","components/layouts/home/dashboard/UsersDashboard.js","pages/Users.js","pages/UserProfile.js","components/modals/AlertDialogModal.js","pages/FileDetails.js","App.js","components/sections/GlobalState.js","AppProviders.js","index.js"],"names":["ACCESS_LEVELS","0","1","2","3","4","BASE_URL","process","api","token","localStorage","getItem","client","axios","create","headers","Authorization","baseURL","interceptors","response","use","error","Promise","reject","apiWithNoAuth","logout","post","resetPassword","body","userStore","persist","set","get","current","setUser","user","isAuth","name","toErrorMap","err","setError","data","errors","Object","entries","errorMap","forEach","field","message","LoginSchema","yup","shape","email","required","defined","password","RegisterSchema","lowercase","min","max","ResetPasswordSchema","username","trim","newPassword","confirmNewPassword","oneOf","undefined","ChangePasswordSchema","currentPassword","ForgotPasswordSchema","InputField","label","props","useField","touched","mt","isInvalid","htmlFor","fontSize","textTransform","bg","borderColor","borderRadius","focusBorderColor","ChangePasswordModal","isOpen","onClose","toast","useToast","values","a","setErrors","title","status","duration","isClosable","isCentered","initialValues","validationSchema","onSubmit","isSubmitting","textAlign","fontWeight","pb","autoComplete","type","onClick","mr","variant","background","color","_hover","_active","_focus","boxShadow","isLoading","SelectField","children","isDisabled","getResource","url","updateResource","resource","patch","deleteResource","reason","delete","uploadFileResource","file","getUser","getUserById","userId","getUserList","updateUser","userDetails","useCurrentUser","useQuery","useUpdateUser","queryClient","useQueryClient","useMutation","onSuccess","invalidateQueries","onError","Account","updateMutation","console","log","cache","logoutUser","state","history","useHistory","useDisclosure","onOpen","clear","removeItem","push","access_level","accessLevel","mutate","pk","minHeight","width","align","justifyContent","isIndeterminate","px","maxWidth","mb","justify","p","role","image","my","value","placeholder","colorScheme","goBack","AuthRoute","Component","component","rest","render","to","ForgotPassword","handleSubmit","description","src","w","AppLayout","showLastColumn","height","templateColumns","templateRows","FileUploadDialogItem","open","handleClose","uploadInProgress","React","useMemo","acceptedFiles","cancelButtonText","submitButtonText","filesLimit","maxFileSize","onSave","files","handleUpload","showPreviews","showFileNamesInPreview","useChipsForPreview","getFileById","fileId","getFileList","updateFile","fileDetails","deleteFile","uploadFile","AddFileModal","mutation","useUploadFileResource","formData","FormData","append","StyledTooltip","position","disabled","hasArrow","placement","py","ActiveGuildPill","h","ml","left","HoverGuildPill","AddGuildIcon","useState","isHover","setHover","direction","m","cursor","onMouseLeave","onMouseEnter","homeStore","notifCount","requestCount","increment","reset","resetRequest","setRequests","r","isPending","toggleDisplay","NotificationIcon","count","bottom","right","transform","border","HomeIcon","isActive","useLocation","pathname","notification","useEffect","as","FaFileArchive","guildScrollbarCss","GuildList","currentUser","isAdmin","gridColumn","gridRow","overflowY","css","zIndex","listStyleType","FileListHeader","handleSearch","padding","onChange","styles","global","mode","customTheme","extendTheme","colors","highlight","standard","hover","active","brandGray","accent","light","dark","darker","darkest","brandGreen","labelGray","menuRed","brandBorder","accountBar","memberList","iconColor","messageInput","config","initialColorMode","fonts","scrollbarCss","PdfViewer","pdfFile","numPages","setNumPages","pageNumber","setPageNumber","changePage","offset","prevPageNumber","options","workerSrc","onLoadSuccess","style","paddingLeft","paddingRight","ChevronLeft","ChevronRight","Transition","ref","Slide","FullScreenDialog","Dialog","fullScreen","TransitionComponent","Box","bgcolor","AppBar","Toolbar","IconButton","edge","aria-label","Close","Typography","display","alignItems","document","FileListItem","setOpen","PictureAsPdf","pr","size","dayjs","updated","format","uploaded_by","icon","command","uuid","OnlineLabel","mx","FileList","length","textColor","map","Loading","useFilteredData","filteredData","setFilteredData","resultList","sort","b","Date","event","result","target","toLowerCase","filter","toLocaleLowerCase","search","FilesDashboard","SidebarButton","linkTo","currentPath","AccountBar","useClipboard","hasCopied","onCopy","firstName","split","pos","closeOnClick","dmScrollerCss","Sidebar","FiFile","FiUsers","Home","Footer","getFullYear","Logo","Navbar","wrap","rounded","LandingLayout","maxW","xl","Hero","subtitle","ctaLink","ctaText","base","md","minH","spacing","opacity","lineHeight","Link","sm","Landing","Login","auth_token","setItem","non_field_errors","RLink","Register","ResetPassword","useParams","tokenError","setTokenError","confirmNewpassword","UserListHeader","UserListItem","boxSize","isOnline","is_active","UserList","users","id","UsersDashboard","Users","UserProfile","useUserById","loggedInUser","isFieldDisabled","AlertDialogModal","cancelRef","useRef","leastDestructiveRef","FileDetails","setIsOpen","useFileById","useUpdateFile","deleteMutation","useDeleteFile","App","exact","path","GlobalState","inc","QueryClient","defaultOptions","queries","refetchOnWindowFocus","staleTime","Infinity","cacheTime","AppProviders","QueryClientProvider","theme","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.59f5f91e.chunk.js","sourcesContent":["export const HOST = process.env.REACT_APP_API_HOST || \"http://localhost:8000\";\n\nexport const ACCESS_LEVELS = {\n  0: \"Lowest\",\n  1: \"Restricted\",\n  2: \"Confidential\",\n  3: \"Secret\",\n  4: \"Top Secret\",\n};\n\nexport const USER_ROLES = {};\n\nexport const DATE_FORMAT = \"DD MMM YYYY\"; // dayjs: 04 Jan 2020\n","import axios from \"axios\";\n\nimport { HOST } from \"../config\";\n\nconst BASE_URL = HOST;\n\nexport const api = () => {\n  const token = localStorage.getItem(\"token\");\n\n  let client = axios.create({\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`,\n    },\n    baseURL: BASE_URL,\n  });\n\n  client.interceptors.response.use(\n    function (response) {\n      return response;\n    },\n    function (error) {\n      // localStorage.removeItem(\"token\");\n      // window.location.reload();\n      return Promise.reject(error);\n    }\n  );\n\n  return client;\n};\n\nexport const apiWithNoAuth = axios.create({\n  baseURL: BASE_URL,\n});\n\n// api.interceptors.response.use(\n//   (response) => {\n//     return response;\n//   },\n//   (error) => {\n//     // console.log({ error });\n//     // const { status } = error.response;\n//     // switch (status) {\n//     //   // Forbidden\n//     //   case 403:\n//     //     localStorage.removeItem(\"user-storage\");\n//     //     window.location.replace(\"/login\");\n//     //     break;\n//     //   default:\n//     //     break;\n//     // }\n//     return Promise.reject(error);\n//   }\n// );\n","import { api, apiWithNoAuth } from \"../apiClient\";\n\nexport const register = (body) => apiWithNoAuth.post(\"/api/auth/users/\", body);\n\nexport const login = (body) =>\n  apiWithNoAuth.post(\"/api/auth/token/login\", body);\n\nexport const logout = (token) => api(token).post(\"/api/auth/token/logout/\");\n\nexport const forgotPassword = (email) =>\n  api.post(\"/account/forgot-password\", { email });\n\nexport const changePassword = () => null;\n\nexport const resetPassword = (body) =>\n  api.post(\"/account/reset-password\", body);\n","import create from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nconst userStore = create(\n  persist(\n    (set, get) => ({\n      current: null,\n      setUser: (user) => set({ current: user }),\n      logout: () => set({ current: null }),\n      isAuth: () => get().current !== null,\n    }),\n    { name: \"user-storage\" }\n  )\n);\n\nexport default userStore;\n","export default function toErrorMap(err, error = \"\", setError = null) {\n  if (err?.response?.data) {\n    let errors = err?.response?.data;\n\n    errors = Object.entries(errors);\n\n    const errorMap = {};\n    errors.forEach(([field, message]) => {\n      errorMap[field] = message;\n    });\n\n    return errorMap;\n  }\n  if (error) {\n    setError(error);\n  }\n}\n","import * as yup from \"yup\";\n\nexport const LoginSchema = yup.object().shape({\n  email: yup.string().required(\"Email is required\").defined(),\n  password: yup.string().required(\"Password is required\").defined(),\n});\n\nexport const RegisterSchema = yup.object().shape({\n  name: yup.string().lowercase().required(\"Name is required\").defined(),\n  email: yup\n    .string()\n    .email()\n    .lowercase()\n    .required(\"Email is required\")\n    .defined(),\n  password: yup\n    .string()\n    .min(6, \"Password must be at least 6 characters long\")\n    .max(150)\n    .required(\"Password is required\")\n    .defined(),\n});\n\nexport const UserSchema = yup.object().shape({\n  email: yup\n    .string()\n    .email()\n    .lowercase()\n    .required(\"Email is required\")\n    .defined(),\n  username: yup\n    .string()\n    .min(3)\n    .max(30)\n    .trim()\n    .required(\"Username is required\")\n    .defined(),\n});\n\nexport const ResetPasswordSchema = yup.object().shape({\n  newPassword: yup\n    .string()\n    .min(6, \"Password must be at least 6 characters long\")\n    .max(150)\n    .required(\"New password is required\")\n    .defined(),\n  confirmNewPassword: yup\n    .string()\n    .oneOf([yup.ref(\"newPassword\"), undefined], \"Passwords do not match\")\n    .required(\"Confirm new password is required\")\n    .defined(),\n});\n\nexport const ChangePasswordSchema = yup.object().shape({\n  currentPassword: yup.string().required(\"Old Password is required\").defined(),\n  newPassword: yup\n    .string()\n    .min(6, \"Password must be at least 6 characters long\")\n    .max(150)\n    .required(\"New password is required\")\n    .defined(),\n  confirmNewPassword: yup\n    .string()\n    .oneOf([yup.ref(\"newPassword\"), undefined], \"Passwords do not match\")\n    .required(\"Confirm new password is required\")\n    .defined(),\n});\n\nexport const ForgotPasswordSchema = yup.object().shape({\n  email: yup\n    .string()\n    .email()\n    .lowercase()\n    .required(\"Email is required\")\n    .defined(),\n});\n","import {\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Input,\n  Text,\n} from \"@chakra-ui/react\";\nimport { useField } from \"formik\";\nimport React from \"react\";\n\nexport default function InputField({ label, ...props }) {\n  const [field, { error, touched }] = useField(props);\n  return (\n    <FormControl mt={4} isInvalid={error != null && touched}>\n      <FormLabel htmlFor={field.name}>\n        <Text fontSize=\"12px\" textTransform=\"uppercase\">\n          {label}\n        </Text>\n      </FormLabel>\n      {/* @ts-ignore */}\n      <Input\n        bg=\"brandGray.dark\"\n        borderColor=\"black\"\n        borderRadius=\"3px\"\n        focusBorderColor=\"highlight.standard\"\n        {...field}\n        {...props}\n      />\n      <FormErrorMessage>{error}</FormErrorMessage>\n    </FormControl>\n  );\n}\n","import {\n  Button,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { Form, Formik } from \"formik\";\nimport { changePassword } from \"api/handler/auth\";\nimport React from \"react\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport { ChangePasswordSchema } from \"validation/auth.schema\";\nimport InputField from \"components/shared/InputField\";\n\nexport default function ChangePasswordModal({ isOpen, onClose }) {\n  const toast = useToast();\n\n  async function handleSubmit(values, { setErrors }) {\n    try {\n      const { data } = await changePassword(values);\n      if (data) {\n        toast({\n          title: \"Changed Password\",\n          status: \"success\",\n          duration: 5000,\n          isClosable: true,\n        });\n        onClose();\n      }\n    } catch (err) {\n      setErrors(toErrorMap(err));\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n\n      <ModalContent bg=\"brandGray.light\">\n        <Formik\n          initialValues={{\n            currentPassword: \"\",\n            newPassword: \"\",\n            confirmNewPassword: \"\",\n          }}\n          validationSchema={ChangePasswordSchema}\n          onSubmit={handleSubmit}\n        >\n          {({ isSubmitting }) => (\n            <Form>\n              <ModalHeader textAlign=\"center\" fontWeight=\"bold\">\n                Change your password\n              </ModalHeader>\n              <ModalCloseButton />\n              <ModalBody pb={6}>\n                <Text>Enter your current password and a new password</Text>\n                <InputField\n                  label=\"current password\"\n                  name=\"currentPassword\"\n                  autoComplete=\"password\"\n                  type=\"password\"\n                />\n\n                <InputField\n                  label=\"new password\"\n                  name=\"newPassword\"\n                  autoComplete=\"password\"\n                  type=\"password\"\n                />\n\n                <InputField\n                  label=\"confirm new password\"\n                  name=\"confirmNewPassword\"\n                  autoComplete=\"password\"\n                  type=\"password\"\n                />\n              </ModalBody>\n\n              <ModalFooter bg=\"brandGray.dark\">\n                <Button\n                  onClick={onClose}\n                  fontSize={\"14px\"}\n                  mr={6}\n                  variant=\"link\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  background=\"highlight.standard\"\n                  color=\"white\"\n                  type=\"submit\"\n                  _hover={{ bg: \"highlight.hover\" }}\n                  _active={{ bg: \"highlight.active\" }}\n                  _focus={{ boxShadow: \"none\" }}\n                  isLoading={isSubmitting}\n                  fontSize={\"14px\"}\n                >\n                  Done\n                </Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik>\n      </ModalContent>\n    </Modal>\n  );\n}\n","import {\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Input,\n  Text,\n  Select,\n} from \"@chakra-ui/react\";\nimport { useField } from \"formik\";\nimport React from \"react\";\n\nexport default function SelectField({\n  label,\n  children,\n  isDisabled = false,\n  ...props\n}) {\n  const [field, { error, touched }] = useField(props);\n  return (\n    <FormControl mt={4} isInvalid={error != null && touched}>\n      <FormLabel htmlFor={field.name}>\n        <Text fontSize=\"12px\" textTransform=\"uppercase\">\n          {label}\n        </Text>\n      </FormLabel>\n      {/* @ts-ignore */}\n      <Select\n        bg=\"brandGray.dark\"\n        borderColor=\"black\"\n        borderRadius=\"3px\"\n        focusBorderColor=\"highlight.standard\"\n        isDisabled={isDisabled}\n        {...field}\n        {...props}\n      >\n        {children}\n      </Select>\n      <FormErrorMessage>{error}</FormErrorMessage>\n    </FormControl>\n  );\n}\n","import { api } from \"./apiClient\";\n\nexport const postResource = async (url, resource) => {\n  const { data } = await api().post(url, resource);\n  return data;\n};\n\nexport const getResource = async (url) => {\n  const { data } = await api().get(url);\n  return data;\n};\n\nexport const updateResource = async (url, resource) => {\n  const { data } = await api().patch(url, resource);\n  return data;\n};\n\nexport const deleteResource = async (url, reason) => {\n  const { data } = await api().delete(url, reason);\n  return data;\n};\n\nexport const uploadFileResource = async (url, file) => {\n  const { data } = await api().post(url, file, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    },\n  });\n  return data;\n};\n","import { useToast } from \"@chakra-ui/react\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { getResource, updateResource } from \"../fetchers\";\n\nconst getUser = async () => {\n  const data = await getResource(\"/api/auth/users/me/\");\n\n  return data;\n};\n\nconst getUserById = async (userId) => {\n  const data = await getResource(`/api/users/${userId}`);\n\n  return data;\n};\n\nconst getUserList = async () => {\n  const data = await getResource(\"/api/users/\");\n\n  return data;\n};\n\nconst updateUser = async (userDetails) => {\n  const { data } = await updateResource(\n    `/api/users/${userDetails.userId}/`,\n    userDetails\n  );\n  return data;\n};\n\nconst activateUser = async ({ url, is_active }) => {\n  const { data } = await updateResource(`${url}`, {\n    is_active,\n  });\n  return data;\n};\n\nexport function useCurrentUser() {\n  return useQuery(\"user\", () => getUser());\n}\n\nexport function useUserById(userId) {\n  return useQuery([\"users\", userId], () => getUserById(userId));\n}\n\nexport function useUserList() {\n  return useQuery(\"users\", () => getUserList());\n}\n\nexport function useUpdateUser() {\n  const toast = useToast();\n  const queryClient = useQueryClient();\n  const mutation = useMutation(updateUser, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"users\");\n      // toast success\n      toast({\n        title: \"User details updated\",\n        status: \"success\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n    onError: () => {\n      // toast error\n      toast({\n        title: \"Error updating account\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n  });\n\n  return mutation;\n}\n","import {\n  Avatar,\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Heading,\n  LightMode,\n  Spacer,\n  Tooltip,\n  useDisclosure,\n  useToast,\n  CircularProgress,\n} from \"@chakra-ui/react\";\nimport { logout } from \"api/handler/auth\";\nimport { Form, Formik } from \"formik\";\nimport React, { useRef, useState } from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { useHistory } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport ChangePasswordModal from \"components/modals/ChangePasswordModal\";\nimport InputField from \"components/shared/InputField\";\nimport SelectField from \"../components/shared/SelectField\";\nimport { useCurrentUser, useUpdateUser } from \"../api/handler/users\";\n\nexport default function Account() {\n  const { data: user, isLoading } = useCurrentUser();\n\n  const updateMutation = useUpdateUser();\n\n  console.log({ user });\n\n  const cache = useQueryClient();\n  const logoutUser = userStore((state) => state.logout);\n  const history = useHistory();\n  const toast = useToast();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  async function handleLogout() {\n    try {\n      await logout();\n      cache.clear();\n      localStorage.removeItem(\"token\");\n      logoutUser();\n      history.push(\"/\");\n    } catch (err) {}\n  }\n\n  async function handleUpdateAccount(values, { setErrors }) {\n    try {\n      values = { ...values, access_level: +values.accessLevel };\n      delete values.email;\n      delete values.accessLevel;\n\n      updateMutation.mutate({ ...values, userId: user?.pk });\n    } catch (err) {\n      setErrors(toErrorMap(err));\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <Flex\n        minHeight=\"100vh\"\n        width=\"full\"\n        align=\"center\"\n        justifyContent=\"center\"\n      >\n        <CircularProgress isIndeterminate />\n      </Flex>\n    );\n  }\n\n  console.log({ user });\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\">\n        <Flex mb=\"4\" justify=\"center\">\n          <Heading fontSize=\"24px\">MY ACCOUNT</Heading>\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box>\n            <Formik\n              initialValues={{\n                email: user?.email,\n                name: user?.name,\n                accessLevel: user?.access_level,\n                role: user?.role,\n                image: null,\n              }}\n              onSubmit={handleUpdateAccount}\n            >\n              {({ isSubmitting, values }) => (\n                <Form>\n                  <Box my={4}>\n                    <InputField\n                      value={values.name}\n                      placeholder=\"Full name\"\n                      label=\"name\"\n                      name=\"name\"\n                      autoComplete=\"name\"\n                    />\n                    <InputField\n                      value={values.email}\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      label=\"Email\"\n                      name=\"email\"\n                      autoComplete=\"email\"\n                    />\n\n                    <SelectField\n                      value={values.accessLevel}\n                      label=\"access level\"\n                      name=\"accessLevel\"\n                      autoComplete=\"access_level\"\n                      isDisabled\n                    >\n                      <option value={0}>Lowest</option>\n                      <option value={1}>Restricted</option>\n                      <option value={2}>Confidential</option>\n                      <option value={3}>Secret</option>\n                      <option value={4}>Top Secret</option>\n                    </SelectField>\n\n                    <SelectField\n                      value={values.role}\n                      label=\"role\"\n                      name=\"role\"\n                      autoComplete=\"role\"\n                      isDisabled\n                    >\n                      <option value={1}>Admin</option>\n                      <option value={2}>Normal</option>\n                    </SelectField>\n\n                    <Flex my={8} align={\"end\"}>\n                      <Spacer />\n                      <Button\n                        mr={4}\n                        colorScheme=\"white\"\n                        variant=\"outline\"\n                        onClick={history.goBack}\n                        fontSize={\"14px\"}\n                      >\n                        Close\n                      </Button>\n\n                      <LightMode>\n                        <Button\n                          type=\"submit\"\n                          colorScheme=\"green\"\n                          isLoading={isSubmitting}\n                          fontSize={\"14px\"}\n                        >\n                          Update\n                        </Button>\n                      </LightMode>\n                    </Flex>\n                  </Box>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n          <Divider my={\"4\"} />\n          <Flex>\n            <Heading fontSize=\"18px\">PASSWORD AND AUTHENTICATION</Heading>\n          </Flex>\n\n          <Flex mt=\"8\">\n            <Button\n              background=\"highlight.standard\"\n              color=\"white\"\n              type=\"submit\"\n              _hover={{ bg: \"highlight.hover\" }}\n              _active={{ bg: \"highlight.active\" }}\n              _focus={{ boxShadow: \"none\" }}\n              onClick={onOpen}\n              fontSize={\"14px\"}\n            >\n              Change Password\n            </Button>\n\n            <Spacer />\n            <Button\n              colorScheme=\"red\"\n              variant=\"outline\"\n              onClick={handleLogout}\n              fontSize={\"14px\"}\n            >\n              Logout\n            </Button>\n          </Flex>\n        </Box>\n      </Box>\n      {isOpen && <ChangePasswordModal isOpen={isOpen} onClose={onClose} />}\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\n\nexport default function AuthRoute({ component: Component, ...rest }) {\n  const current = userStore((state) => state.current);\n  const token = localStorage.getItem(\"token\");\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        token ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }\n    />\n  );\n}\n\n// <Route\n// {...rest}\n// render={(props) =>\n//   current || storage?.state?.current ? (\n//     <Component {...props} />\n//   ) : (\n//     <Redirect to=\"/login\" />\n//   )\n// }\n// />\n","import { Box, Button, Flex, Heading, Image, useToast } from \"@chakra-ui/react\";\nimport { forgotPassword } from \"api/handler/auth\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport InputField from \"components/shared/InputField\";\nimport { ForgotPasswordSchema } from \"validation/auth.schema\";\n\nexport default function ForgotPassword() {\n  const history = useHistory();\n\n  const toast = useToast();\n\n  const handleSubmit = async (values, { setErrors }) => {\n    try {\n      const { data } = await forgotPassword(values.email);\n      if (data) {\n        toast({\n          title: \"Reset  password\",\n          description:\n            \"If an account with that email exists, we sent you an email\",\n          status: \"success\",\n          duration: 5000,\n          isClosable: true,\n        });\n        history.push(\"/\");\n      }\n    } catch (err) {\n      setErrors(toErrorMap(err));\n    }\n  };\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\" textAlign=\"center\">\n        <Flex mb=\"4\" justify=\"center\">\n          <Image src=\"/logo.png\" w=\"80px\" />\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box textAlign=\"center\">\n            <Heading fontSize=\"24px\">Forgot Password</Heading>\n          </Box>\n          <Box my={4} textAlign=\"left\">\n            <Formik\n              initialValues={{ email: \"\" }}\n              validationSchema={ForgotPasswordSchema}\n              onSubmit={handleSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <InputField\n                    label=\"Email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    type=\"email\"\n                  />\n\n                  <Button\n                    background=\"highlight.standard\"\n                    color=\"white\"\n                    width=\"full\"\n                    mt={4}\n                    type=\"submit\"\n                    isLoading={isSubmitting}\n                    _hover={{ bg: \"highlight.hover\" }}\n                    _active={{ bg: \"highlight.active\" }}\n                    _focus={{ boxShadow: \"none\" }}\n                    fontSize={\"14px\"}\n                  >\n                    Send Mail\n                  </Button>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n","import { Grid } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nexport default function AppLayout({ showLastColumn = false, children }) {\n  return (\n    <Grid\n      height=\"100vh\"\n      templateColumns={`75px 240px 1fr ${showLastColumn ? \"240px\" : \"\"} `}\n      templateRows=\"auto 1fr auto\"\n      bg=\"brandGray.light\"\n    >\n      {children}\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { DropzoneDialog } from \"material-ui-dropzone\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst FileUploadDialogItem = ({\n  open,\n  handleClose,\n  handleSubmit,\n  isLoading = false,\n}) => {\n  const history = useHistory();\n  const uploadInProgress = React.useMemo(() => {\n    return isLoading;\n  }, [isLoading]);\n\n  const handleUpload = (files) => {\n    handleSubmit(files);\n    handleClose();\n    history.push(\"/files\");\n  };\n\n  if (uploadInProgress) {\n    return <div>is loading...</div>;\n  }\n\n  return (\n    <DropzoneDialog\n      acceptedFiles={[\".pdf\"]}\n      cancelButtonText=\"cancel\"\n      submitButtonText=\"upload\"\n      filesLimit={3}\n      maxFileSize={5000000000}\n      open={open}\n      onClose={handleClose}\n      onSave={(files) => {\n        handleUpload(files);\n      }}\n      showPreviews={true}\n      showFileNamesInPreview={true}\n      useChipsForPreview\n    />\n  );\n};\n\nexport default FileUploadDialogItem;\n","import { useToast } from \"@chakra-ui/react\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport {\n  getResource,\n  updateResource,\n  uploadFileResource,\n  deleteResource,\n} from \"../fetchers\";\n\nconst getFileById = async (fileId) => {\n  const data = await getResource(`/api/files/${fileId}`);\n\n  return data;\n};\n\nconst getFileList = async () => {\n  const data = await getResource(\"/api/files/\");\n\n  return data;\n};\n\nconst updateFile = async (fileDetails) => {\n  const { data } = await updateResource(\n    `/api/files/${fileDetails.fileId}`,\n    fileDetails\n  );\n  return data;\n};\n\nconst deleteFile = async (fileDetails) => {\n  const { data } = await deleteResource(`/api/files/${fileDetails.fileId}`);\n  return data;\n};\n\nconst uploadFile = async (file) => {\n  const { data } = await uploadFileResource(\"/api/files/upload\", file);\n  return data;\n};\n\nexport function useFileById(fileId) {\n  return useQuery([\"files\", fileId], () => getFileById(fileId));\n}\n\nexport function useFileList() {\n  return useQuery(\"files\", () => getFileList());\n}\n\nexport function useUpdateFile() {\n  const toast = useToast();\n  const queryClient = useQueryClient();\n\n  const mutation = useMutation(updateFile, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"files\");\n      // toast success\n      toast({\n        title: \"File updated\",\n        status: \"success\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n    onError: () => {\n      // toast error\n      toast({\n        title: \"Error updating file\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n  });\n\n  return mutation;\n}\n\nexport function useDeleteFile() {\n  const toast = useToast();\n  const queryClient = useQueryClient();\n\n  const mutation = useMutation(deleteFile, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"files\");\n      // toast success\n      toast({\n        title: \"File deleted\",\n        status: \"success\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n    onError: () => {\n      // toast error\n      toast({\n        title: \"Error deleting file\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n  });\n\n  return mutation;\n}\n\nexport function useUploadFileResource() {\n  const toast = useToast();\n  const queryClient = useQueryClient();\n\n  const mutation = useMutation(uploadFile, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"files\");\n      toast({\n        title: \"File uploaded\",\n        status: \"success\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error uploading file\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true,\n      });\n    },\n  });\n\n  return mutation;\n}\n","import React from \"react\";\nimport FileUploadDialogItem from \"../items/FileUploadDialogItem\";\nimport { useUploadFileResource } from \"../../api/handler/files\";\n\nexport default function AddFileModal({ isOpen, onClose }) {\n  const submitClose = () => {\n    onClose();\n  };\n\n  const mutation = useUploadFileResource();\n\n  const handleUploadFile = (files) => {\n    let formData = new FormData();\n    files.forEach((file) => {\n      formData.append(\"file\", file);\n    });\n\n    mutation.mutate(formData);\n  };\n\n  return (\n    <FileUploadDialogItem\n      open={isOpen}\n      handleClose={submitClose}\n      handleSubmit={handleUploadFile}\n    />\n  );\n}\n","import React from \"react\";\nimport { Tooltip } from \"@chakra-ui/react\";\n\nexport default function StyledTooltip({\n  label,\n  position,\n  disabled = false,\n  children,\n}) {\n  return (\n    <Tooltip\n      hasArrow\n      label={label}\n      placement={position}\n      isDisabled={disabled}\n      bg={\"brandGray.darkest\"}\n      color={\"white\"}\n      fontWeight={\"semibold\"}\n      py={1}\n      px={3}\n    >\n      {children}\n    </Tooltip>\n  );\n}\n","import { Box } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nexport function NotificationIndicator() {\n  return (\n    <Box\n      w={\"8px\"}\n      h={\"8px\"}\n      bg={\"white\"}\n      position={\"absolute\"}\n      borderRadius={\"0 4px 4px 0\"}\n      ml={\"-4px\"}\n      mt={\"20px\"}\n      left={0}\n    />\n  );\n}\n\nexport function ChannelNotificationIndicator() {\n  return (\n    <Box\n      w={\"8px\"}\n      h={\"8px\"}\n      bg={\"white\"}\n      position={\"absolute\"}\n      borderRadius={\"0 4px 4px 0\"}\n      ml={\"-4px\"}\n      mt={\"8px\"}\n      left={\"75px\"}\n    />\n  );\n}\n\nexport function ActiveGuildPill() {\n  return (\n    <Box\n      w={\"8px\"}\n      h={\"40px\"}\n      bg={\"white\"}\n      position={\"absolute\"}\n      borderRadius={\"0 4px 4px 0\"}\n      ml={\"-4px\"}\n      left={0}\n      mt={\"4px\"}\n    />\n  );\n}\n\nexport function HoverGuildPill() {\n  return (\n    <Box\n      w={\"8px\"}\n      h={\"24px\"}\n      bg={\"white\"}\n      position={\"absolute\"}\n      borderRadius={\"0 4px 4px 0\"}\n      ml={\"-4px\"}\n      left={0}\n      mt={\"12px\"}\n    />\n  );\n}\n","import React, { useState } from \"react\";\nimport { Flex } from \"@chakra-ui/react\";\nimport { AiOutlinePlus } from \"react-icons/ai\";\nimport StyledTooltip from \"./StyledTooltip\";\nimport { HoverGuildPill } from \"components/shared/GuildPills\";\n\nexport default function AddGuildIcon({ onOpen }) {\n  const [isHover, setHover] = useState(false);\n\n  return (\n    <>\n      {isHover && <HoverGuildPill />}\n      <StyledTooltip label={\"Add a new file\"} position={\"right\"}>\n        <Flex\n          direction={\"column\"}\n          m={\"auto\"}\n          align={\"center\"}\n          justify={\"center\"}\n          bg={\"brandGray.light\"}\n          borderRadius={\"50%\"}\n          h={\"48px\"}\n          w={\"48px\"}\n          _hover={{\n            cursor: \"pointer\",\n            borderRadius: \"35%\",\n            bg: \"brandGreen\",\n            color: \"white\",\n          }}\n          onClick={onOpen}\n          onMouseLeave={() => setHover(false)}\n          onMouseEnter={() => setHover(true)}\n        >\n          <AiOutlinePlus fontSize=\"25px\" />\n        </Flex>\n      </StyledTooltip>\n    </>\n  );\n}\n","import create from \"zustand\";\n\nconst homeStore = create((set) => ({\n  notifCount: 0,\n  requestCount: 0,\n  increment: () => set((state) => ({ notifCount: state.notifCount + 1 })),\n  reset: () => set(() => ({ notifCount: 0 })),\n  resetRequest: () => set(() => ({ requestCount: 0 })),\n  setRequests: (r) => set(() => ({ requestCount: r })),\n  isPending: false,\n  toggleDisplay: () => set((state) => ({ isPending: !state.isPending })),\n}));\n\nexport default homeStore;\n","import { Flex, Text } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nexport default function NotificationIcon({ count }) {\n  return (\n    <Flex\n      borderRadius={\"50%\"}\n      bg={\"menuRed\"}\n      position={\"absolute\"}\n      bottom={0}\n      right={0}\n      transform={\"translate(25%, 25%)\"}\n      border={\"0.2em solid\"}\n      borderColor={\"brandBorder\"}\n      w={\"1.4em\"}\n      h={\"1.4em\"}\n      justify={\"center\"}\n      align={\"center\"}\n    >\n      <Text fontSize={\"11px\"} fontWeight={\"bold\"}>\n        {count}\n      </Text>\n    </Flex>\n  );\n}\n\nexport function PingIcon({ count }) {\n  return (\n    <Flex\n      borderRadius={\"50%\"}\n      bg={\"menuRed\"}\n      w={\"1.2em\"}\n      h={\"1.2em\"}\n      justify={\"center\"}\n      align={\"center\"}\n      ml={2}\n    >\n      <Text fontSize={\"11px\"} fontWeight={\"bold\"}>\n        {count}\n      </Text>\n    </Flex>\n  );\n}\n","import { Divider, Flex, Icon } from \"@chakra-ui/react\";\nimport React, { useEffect, useState } from \"react\";\nimport { FaFileArchive } from \"react-icons/fa\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport homeStore from \"stores/homeStore\";\nimport { ActiveGuildPill, HoverGuildPill } from \"components/shared/GuildPills\";\nimport NotificationIcon from \"components/shared/NotificationIcon\";\nimport StyledTooltip from \"./StyledTooltip\";\n\nexport default function HomeIcon() {\n  const location = useLocation();\n  const isActive = location.pathname === \"/channels/me\";\n  const [isHover, setHover] = useState(false);\n\n  const notification = homeStore((state) => state.notifCount);\n  const reset = homeStore((state) => state.reset);\n\n  useEffect(() => {\n    if (isActive) reset();\n  });\n\n  return (\n    <StyledTooltip label={\"Home\"} position={\"right\"}>\n      <Flex direction=\"column\" my=\"2\" align=\"center\">\n        {isActive && <ActiveGuildPill />}\n        {isHover && <HoverGuildPill />}\n        <Link to=\"/home\">\n          <Flex\n            direction=\"column\"\n            m=\"auto\"\n            align=\"center\"\n            justify=\"center\"\n            bg={isActive ? \"highlight.standard\" : \"brandGray.light\"}\n            borderRadius={isActive ? \"35%\" : \"50%\"}\n            h=\"48px\"\n            w=\"48px\"\n            color=\"white\"\n            position={\"relative\"}\n            _hover={{\n              cursor: \"pointer\",\n              borderRadius: \"35%\",\n              bg: \"highlight.standard\",\n            }}\n            onMouseLeave={() => setHover(false)}\n            onMouseEnter={() => setHover(true)}\n          >\n            <Icon as={FaFileArchive} />\n            {notification > 0 && <NotificationIcon count={notification} />}\n          </Flex>\n        </Link>\n        <Divider mt=\"2\" w=\"40px\" />\n      </Flex>\n    </StyledTooltip>\n  );\n}\n\nfunction Logo() {\n  return <img src=\"/small-logo.png\" style={{ padding: \"5px\" }} alt=\"logo\" />;\n}\n","const guildScrollbarCss = {\n  \"&::-webkit-scrollbar\": {\n    width: \"0\",\n  },\n};\n\nexport default guildScrollbarCss;\n","import { Box, GridItem, UnorderedList, useDisclosure } from \"@chakra-ui/react\";\nimport AddFileModal from \"components/modals/AddFileModal\";\nimport AddGuildIcon from \"components/sections/AddGuildIcon\";\nimport HomeIcon from \"components/sections/HomeIcon\";\nimport React from \"react\";\nimport guildScrollbarCss from \"./css/GuildScrollerCSS\";\nimport { useCurrentUser } from \"../../../api/handler/users\";\n\nexport default function GuildList() {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  const { data: currentUser } = useCurrentUser();\n\n  const isAdmin = currentUser?.role === 1;\n\n  return (\n    <GridItem\n      gridColumn={1}\n      gridRow={\"1 / 4\"}\n      bg=\"brandGray.darker\"\n      overflowY=\"auto\"\n      css={guildScrollbarCss}\n      zIndex={2}\n    >\n      <HomeIcon />\n      <UnorderedList listStyleType=\"none\" ml=\"0\">\n        guilds\n      </UnorderedList>\n      {isAdmin && <AddGuildIcon onOpen={onOpen} />}\n      {isOpen && <AddFileModal isOpen={isOpen} onClose={onClose} />}\n      <Box h=\"20px\" />\n    </GridItem>\n  );\n}\n","import { Flex, GridItem } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nimport { Input } from \"@chakra-ui/react\";\n\nexport default function FileListHeader({ handleSearch }) {\n  return (\n    <GridItem\n      gridColumn={3}\n      gridRow={\"1\"}\n      bg=\"brandGray.light\"\n      padding=\"10px\"\n      zIndex=\"2\"\n      boxShadow=\"md\"\n    >\n      <Flex align=\"center\" justify=\"space-between\" p=\"2\">\n        <Input placeholder=\"Search files\" onChange={handleSearch} />\n      </Flex>\n    </GridItem>\n  );\n}\n","import { extendTheme } from \"@chakra-ui/react\";\nimport { mode } from \"@chakra-ui/theme-tools\";\n\nconst config = {\n  initialColorMode: \"dark\",\n};\n\nconst styles = {\n  global: (props) => ({\n    body: {\n      bg: mode(\"gray.100\", \"#1b1c1d\")(props),\n    },\n  }),\n};\n\nconst colors = {\n  highlight: {\n    standard: \"#7289da\",\n    hover: \"#677bc4\",\n    active: \"#5b6eae\",\n  },\n  brandGray: {\n    accent: \"#8e9297\",\n    active: \"#393c43\",\n    light: \"#36393f\",\n    dark: \"#303339\",\n    darker: \"#202225\",\n    darkest: \"#18191c\",\n    hover: \"#32353b\",\n  },\n  brandGreen: \"#43b581\",\n  labelGray: \"#72767d\",\n  menuRed: \"#f04747\",\n  brandBorder: \"#1A202C\",\n  accountBar: \"#292b2f\",\n  memberList: \"#2f3136\",\n  iconColor: \"#b9bbbe\",\n  messageInput: \"#40444b\",\n};\n\nconst fonts = {\n  body: \"'Open Sans', sans-serif\",\n};\n\nconst customTheme = extendTheme({ colors, config, styles, fonts });\n\nexport default customTheme;\n\nexport const scrollbarCss = {\n  \"&::-webkit-scrollbar\": {\n    width: \"8px\",\n  },\n  \"&::-webkit-scrollbar-track\": {\n    background: \"#2f3136\",\n    width: \"10px\",\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    background: \"gray\",\n    borderRadius: \"18px\",\n  },\n};\n","import React, { useState } from \"react\";\nimport { Document, Page, Outline } from \"react-pdf\";\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport { Text, Flex, GridItem, Box } from \"@chakra-ui/react\";\nimport { scrollbarCss } from \"utils/theme\";\n\nconst file = \"http://localhost:8000/media/documents/AJR.pdf\";\n\nexport default function PdfViewer({ pdfFile }) {\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n    setPageNumber(1);\n  }\n\n  function changePage(offset) {\n    setPageNumber((prevPageNumber) => prevPageNumber + offset);\n  }\n\n  function previousPage() {\n    changePage(-1);\n  }\n\n  function nextPage() {\n    changePage(1);\n  }\n\n  return (\n    <Box css={scrollbarCss}>\n      <Document\n        file={pdfFile}\n        options={{ workerSrc: \"/pdf.worker.js\" }}\n        onLoadSuccess={onDocumentLoadSuccess}\n      >\n        <Page pageNumber={pageNumber} />\n      </Document>\n\n      <div\n        style={{\n          color: \"black\",\n          paddingLeft: \"2em\",\n          paddingRight: \"2em\",\n          position: \"absolute\",\n          bottom: \"1.5%\",\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          background: \"rgba(200,200,200, 0.9)\",\n        }}\n      >\n        <Flex w=\"full\" justify=\"center\" align=\"center\">\n          <button\n            disabled={pageNumber <= 1}\n            type=\"button\"\n            onClick={previousPage}\n          >\n            <ChevronLeft />\n          </button>\n          <Text fontSize=\"sm\">\n            {pageNumber || (numPages ? 1 : \"--\")} of {numPages || \"--\"}\n          </Text>\n          <button\n            type=\"button\"\n            disabled={pageNumber >= numPages}\n            onClick={nextPage}\n          >\n            <ChevronRight />\n          </button>\n        </Flex>\n      </div>\n    </Box>\n  );\n}\n\n// .page-controls {\n//   position: absolute;\n//   bottom: 5%;\n//   left: 50%;\n//   background: white;\n//   opacity: 0;\n//   transform: translateX(-50%);\n//   transition: opacity ease-in-out 0.2s;\n//   box-shadow: 0 30px 40px 0 rgb(16 36 94 / 20%);\n//   border-radius: 4px;\n// }\n","import * as React from \"react\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\nimport {\n  Dialog,\n  AppBar,\n  Toolbar,\n  IconButton,\n  Slide,\n  Box,\n  Typography,\n} from \"@material-ui/core\";\nimport PdfViewer from \"../items/PdfViewer\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function FullScreenDialog({ open, handleClose, file }) {\n  return (\n    <Dialog\n      fullScreen\n      open={open}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n    >\n      <Box bgcolor=\"#1b1c1d\" style={{ height: \"100vh\" }}>\n        <AppBar style={{ position: \"relative\", background: \"#202225\" }}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              onClick={handleClose}\n              aria-label=\"close\"\n            >\n              <CloseIcon />\n            </IconButton>\n            <Typography>{file?.name}</Typography>\n          </Toolbar>\n        </AppBar>\n\n        <Box\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            height: \"95%\",\n          }}\n        >\n          <PdfViewer pdfFile={`${file?.document}`} />\n        </Box>\n      </Box>\n    </Dialog>\n  );\n}\n","import {\n  Icon,\n  Flex,\n  IconButton,\n  ListItem,\n  Text,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Tag,\n  TagLabel,\n  useDisclosure,\n  Tr,\n  Td,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { FaEllipsisV, FaUser, FaEdit } from \"react-icons/fa\";\nimport { useHistory } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport { ACCESS_LEVELS, DATE_FORMAT } from \"../../config\";\nimport { PictureAsPdf } from \"@material-ui/icons\";\nimport FullScreenDialog from \"../modals/FullScreenDialog\";\n\nexport default function FileListItem({ file }) {\n  const history = useHistory();\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Tr\n        _hover={{\n          bg: \"brandGray.dark\",\n        }}\n      >\n        <Td>\n          <Flex align=\"center\" w=\"full\" _hover={{ cursor: \"pointer\" }}>\n            <Icon as={PictureAsPdf} color=\"red.200\" />\n            <Text ml=\"2\" fontSize=\"sm\" mr=\"1\" pr=\"1\" maxWidth=\"64\">\n              {file?.name}\n            </Text>\n          </Flex>\n        </Td>\n\n        <Td>\n          <Tag\n            size=\"md\"\n            borderRadius=\"full\"\n            variant=\"subtle\"\n            colorScheme={\"cyan\"}\n          >\n            <TagLabel>{ACCESS_LEVELS[file?.access_level]}</TagLabel>\n          </Tag>\n        </Td>\n\n        <Td>\n          <Text ml=\"2\" fontSize=\"sm\">\n            {dayjs(file?.updated).format(DATE_FORMAT)}\n          </Text>\n        </Td>\n\n        <Td>\n          <Text ml=\"2\" fontSize=\"sm\">\n            {file?.uploaded_by?.email}\n          </Text>\n        </Td>\n\n        <Td>\n          <Menu>\n            <MenuButton\n              as={IconButton}\n              aria-label=\"Options\"\n              icon={<FaEllipsisV />}\n              variant=\"outline\"\n            />\n            <MenuList>\n              <MenuItem\n                icon={<FaUser />}\n                command=\"⌘T\"\n                onClick={() => history.push(`/files/${file?.uuid}`)}\n              >\n                File details\n              </MenuItem>\n              <MenuItem\n                icon={<FaEdit />}\n                command=\"⌘O\"\n                onClick={handleClickOpen}\n              >\n                Open File...\n              </MenuItem>\n            </MenuList>\n          </Menu>\n        </Td>\n      </Tr>\n\n      {open && (\n        <FullScreenDialog\n          open={open}\n          handleClose={handleClose}\n          file={file}\n          pdfFile={`${file.document}`}\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Text } from \"@chakra-ui/react\";\n\nexport default function OnlineLabel({ label }) {\n  return (\n    <Text\n      fontSize=\"12px\"\n      color={\"brandGray.accent\"}\n      textTransform={\"uppercase\"}\n      fontWeight={\"semibold\"}\n      mx={\"4\"}\n      mt={\"4\"}\n      mb={\"4\"}\n      w={\"50%\"}\n    >\n      {label}\n    </Text>\n  );\n}\n","import {\n  Flex,\n  Text,\n  UnorderedList,\n  ListItem,\n  Table,\n  Thead,\n  Th,\n  Tr,\n  Box,\n  Tbody,\n} from \"@chakra-ui/react\";\nimport FileListItem from \"components/items/FileListItem\";\nimport OnlineLabel from \"components/sections/OnlineLabel\";\nimport React from \"react\";\n\nexport default function FileList({ files }) {\n  if (files?.length === 0) {\n    return (\n      <Flex justify={\"center\"} align={\"center\"} w={\"full\"}>\n        <Text textColor={\"brandGray.accent\"}>No files to display</Text>\n      </Flex>\n    );\n  }\n\n  return (\n    <Box w=\"full\">\n      <OnlineLabel label={`Files — ${files?.length || 0}`} />\n      <Table w=\"full\">\n        <Thead bg=\"brandGray.darker\" p=\"2\" mx=\"2\">\n          <Tr>\n            <Th>Name</Th>\n            <Th>Access level</Th>\n            <Th>Last Modified</Th>\n            <Th>Uploaded by</Th>\n            <Th>Action</Th>\n          </Tr>\n        </Thead>\n\n        <Tbody>\n          {files?.map((file) => (\n            <FileListItem key={file.uuid} file={file} />\n          ))}\n        </Tbody>\n      </Table>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { CircularProgress, Flex } from \"@chakra-ui/react\";\n\nexport default function Loading() {\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <CircularProgress isIndeterminate />\n    </Flex>\n  );\n}\n","import React from \"react\";\n\nexport function useFilteredData(data) {\n  const [filteredData, setFilteredData] = React.useState([]);\n\n  React.useState(() => {\n    setFilteredData(data);\n  }, [data]);\n\n  const handleSearch = (event) => {\n    let value = event.target.value.toLowerCase();\n    let result = [];\n\n    result = data?.filter((data) => {\n      return data?.name?.toLocaleLowerCase().search(value) !== -1;\n    });\n\n    setFilteredData(result);\n  };\n\n  let resultList = filteredData || data;\n\n  // sort by most recent\n  resultList?.sort((a, b) => new Date(b.updated) - new Date(a.updated));\n\n  return { filteredData: resultList, handleSearch };\n}\n","import React from \"react\";\nimport { GridItem } from \"@chakra-ui/react\";\nimport FileListHeader from \"./FileListHeader\";\nimport FileList from \"./FileList\";\nimport { scrollbarCss } from \"utils/theme\";\nimport { useFileList } from \"../../../../api/handler/files\";\nimport Loading from \"../../../items/Loading\";\nimport { useFilteredData } from \"../../../../hooks/useFilterData\";\n\nexport default function FilesDashboard() {\n  const { data: files, isLoading } = useFileList();\n\n  const { filteredData, handleSearch } = useFilteredData(files);\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <FileListHeader handleSearch={handleSearch} />\n      <GridItem\n        gridColumn={3}\n        gridRow={\"2\"}\n        bg=\"brandGray.light\"\n        mr=\"5px\"\n        display=\"flex\"\n        overflowY=\"auto\"\n        css={scrollbarCss}\n      >\n        <FileList files={filteredData || files} />\n      </GridItem>\n    </>\n  );\n}\n","import { Flex, Icon, Text } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport homeStore from \"stores/homeStore\";\nimport { PingIcon } from \"components/shared/NotificationIcon\";\n\nexport default function SidebarButton({ linkTo = \"\", title = \"\", icon }) {\n  const currentPath = `${linkTo}`;\n  const location = useLocation();\n  const isActive = location.pathname === currentPath;\n\n  return (\n    <Link to={linkTo}>\n      <Flex\n        m=\"2\"\n        p=\"3\"\n        align=\"center\"\n        justify={\"space-between\"}\n        color={isActive ? \"#fff\" : \"brandGray.accent\"}\n        _hover={{\n          bg: \"brandGray.light\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\",\n          color: \"#fff\",\n        }}\n        bg={isActive ? \"brandGray.active\" : undefined}\n      >\n        <Flex align={\"center\"}>\n          <Icon as={icon} fontSize=\"20px\" />\n          <Text fontSize=\"14px\" ml=\"4\" fontWeight=\"semibold\">\n            {title}\n          </Text>\n        </Flex>\n      </Flex>\n    </Link>\n  );\n}\n","import {\n  Avatar,\n  Flex,\n  IconButton,\n  Text,\n  Tooltip,\n  useClipboard,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { RiSettings5Fill } from \"react-icons/ri\";\nimport { Link } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\nimport { useCurrentUser } from \"../../api/handler/users\";\n\nexport default function AccountBar() {\n  const { data: user } = useCurrentUser();\n\n  const { hasCopied, onCopy } = useClipboard(user?.pk || \"\");\n\n  const firstName = user?.name?.split(\" \")[0];\n\n  return (\n    <Flex\n      p=\"10px\"\n      pos=\"absolute\"\n      bottom=\"0\"\n      w=\"240px\"\n      bg=\"accountBar\"\n      align=\"center\"\n      justify=\"space-between\"\n    >\n      <Tooltip\n        hasArrow\n        label={hasCopied ? \"Copied!\" : \"Click to copy ID\"}\n        placement={\"top\"}\n        bg={hasCopied ? \"brandGreen\" : \"brandGray.darkest\"}\n        color={\"white\"}\n        closeOnClick={false}\n      >\n        <Flex\n          align=\"center\"\n          w={\"full\"}\n          mr={2}\n          _hover={{ cursor: \"pointer\" }}\n          onClick={onCopy}\n        >\n          <Avatar size=\"sm\" src={user?.image} />\n          <Text ml=\"2\">{firstName}</Text>\n        </Flex>\n      </Tooltip>\n      <Link to={\"/account\"}>\n        <Tooltip\n          hasArrow\n          label={\"User Settings\"}\n          placement={\"top\"}\n          bg={\"brandGray.darkest\"}\n          color={\"white\"}\n        >\n          <IconButton\n            icon={<RiSettings5Fill />}\n            aria-label=\"settings\"\n            size=\"sm\"\n            fontSize=\"20px\"\n            variant=\"ghost\"\n          />\n        </Tooltip>\n      </Link>\n    </Flex>\n  );\n}\n","const dmScrollerCss = {\n  \"&::-webkit-scrollbar\": {\n    width: \"4px\",\n  },\n  \"&::-webkit-scrollbar-track\": {\n    width: \"4px\",\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    background: \"brandGray.darker\",\n    borderRadius: \"18px\",\n  },\n};\n\nexport default dmScrollerCss;\n","import { Box, GridItem, Text, UnorderedList } from \"@chakra-ui/react\";\nimport SidebarButton from \"components/sections/SidebarButton\";\nimport React from \"react\";\nimport AccountBar from \"../AccountBar\";\nimport dmScrollerCss from \"./css/dmScrollerCSS\";\nimport { FiUsers, FiFile } from \"react-icons/fi\";\nimport { useCurrentUser } from \"../../../api/handler/users\";\n\nexport default function Sidebar() {\n  const { data: user, isLoading } = useCurrentUser();\n\n  const isAdmin = user?.role === 1;\n\n  return (\n    <GridItem\n      gridColumn={\"2\"}\n      gridRow={\"1 / 4\"}\n      bg=\"brandGray.dark\"\n      overflowY=\"hidden\"\n      _hover={{ overflowY: \"auto\" }}\n      css={dmScrollerCss}\n    >\n      {/** files */}\n      <SidebarButton linkTo=\"/home\" title=\"Files\" icon={FiFile} />\n\n      {/** users - only admin can see this */}\n      {isAdmin && (\n        <SidebarButton linkTo=\"/users\" title=\"Users\" icon={FiUsers} />\n      )}\n\n      <AccountBar />\n    </GridItem>\n  );\n}\n","import React from \"react\";\nimport AppLayout from \"components/layouts/AppLayout\";\nimport GuildList from \"components/layouts/guild/GuildList\";\nimport FilesDashboard from \"components/layouts/home/dashboard/FilesDashboard\";\nimport Sidebar from \"components/layouts/home/Sidebar\";\n\nexport default function Home() {\n  return (\n    <AppLayout>\n      <GuildList />\n      <Sidebar />\n      <FilesDashboard />\n    </AppLayout>\n  );\n}\n","import { Box, Flex, Link, Text } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport StyledTooltip from \"./StyledTooltip\";\n\nexport function FooterLink({ icon, href, label }) {\n  return (\n    <StyledTooltip label={label} position={\"top\"}>\n      <Link\n        display=\"inline-block\"\n        href={href}\n        aria-label={label}\n        isExternal\n        mx={2}\n      >\n        <Box as={icon} width=\"24px\" height=\"24px\" color=\"gray.400\" />\n      </Link>\n    </StyledTooltip>\n  );\n}\n\nexport default function Footer() {\n  return (\n    <Flex bottom={0} as=\"footer\" align=\"center\" justify=\"center\" w=\"100%\" p={8}>\n      <Box textAlign=\"center\">\n        <Text fontSize=\"xl\">\n          <span>File Drive | {new Date().getFullYear()}</span>\n        </Text>\n      </Box>\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport { Text } from \"@chakra-ui/react\";\n\n// export default function Logo() {\n//   return (\n//     <svg width=\"124\" height=\"34\" viewBox=\"0 0 124 34\" className=\"logo-3LF899\">\n//       <g fill=\"currentColor\">\n//         <path d=\"M18.1558 14.297C17.1868 14.297 16.4218 15.13 16.4218 16.167C16.4218 17.204 17.2038 18.037 18.1558 18.037C19.1248 18.037 19.8898 17.204 19.8898 16.167C19.8898 15.13 19.1078 14.297 18.1558 14.297ZM11.9508 14.297C10.9818 14.297 10.2168 15.13 10.2168 16.167C10.2168 17.204 10.9988 18.037 11.9508 18.037C12.9198 18.037 13.6848 17.204 13.6848 16.167C13.7018 15.13 12.9198 14.297 11.9508 14.297Z\"></path>\n//         <path d=\"M26.4178 0.152954H3.63783C1.71683 0.152954 0.152832 1.71695 0.152832 3.63795V26.418C0.152832 28.339 1.71683 29.903 3.63783 29.903H22.9158L22.0148 26.792L24.1908 28.798L26.2478 30.685L29.9198 33.864V3.63795C29.9028 1.71695 28.3388 0.152954 26.4178 0.152954ZM19.8558 22.168C19.8558 22.168 19.2438 21.437 18.7338 20.808C20.9608 20.179 21.8108 18.802 21.8108 18.802C21.1138 19.261 20.4508 19.584 19.8558 19.805C19.0058 20.162 18.1898 20.383 17.3908 20.536C15.7588 20.842 14.2628 20.757 12.9878 20.519C12.0188 20.332 11.1858 20.077 10.4888 19.788C10.0978 19.635 9.67283 19.448 9.24783 19.21C9.19683 19.176 9.14583 19.159 9.09483 19.125C9.06083 19.108 9.04383 19.091 9.02683 19.091C8.72083 18.921 8.55083 18.802 8.55083 18.802C8.55083 18.802 9.36683 20.145 11.5258 20.791C11.0158 21.437 10.3868 22.185 10.3868 22.185C6.62983 22.066 5.20183 19.618 5.20183 19.618C5.20183 14.195 7.64983 9.79195 7.64983 9.79195C10.0978 7.97295 12.4098 8.02395 12.4098 8.02395L12.5798 8.22795C9.51983 9.09495 8.12583 10.438 8.12583 10.438C8.12583 10.438 8.49983 10.234 9.12883 9.96195C10.9478 9.16295 12.3928 8.95895 12.9878 8.89095C13.0898 8.87395 13.1748 8.85695 13.2768 8.85695C14.3138 8.72095 15.4868 8.68695 16.7108 8.82295C18.3258 9.00995 20.0598 9.48595 21.8278 10.438C21.8278 10.438 20.4848 9.16295 17.5948 8.29595L17.8328 8.02395C17.8328 8.02395 20.1618 7.97295 22.5928 9.79195C22.5928 9.79195 25.0408 14.195 25.0408 19.618C25.0408 19.601 23.6128 22.049 19.8558 22.168ZM45.5258 7.42895H39.8818V13.77L43.6388 17.153V10.999H45.6448C46.9198 10.999 47.5488 11.611 47.5488 12.597V17.306C47.5488 18.292 46.9538 18.955 45.6448 18.955H39.8648V22.542H45.5088C48.5348 22.559 51.3738 21.046 51.3738 17.578V12.512C51.3908 8.97595 48.5518 7.42895 45.5258 7.42895ZM75.1058 17.578V12.376C75.1058 10.506 78.4718 10.081 79.4918 11.951L82.6028 10.693C81.3788 8.00695 79.1518 7.22495 77.2988 7.22495C74.2728 7.22495 71.2808 8.97595 71.2808 12.376V17.578C71.2808 21.012 74.2728 22.729 77.2308 22.729C79.1348 22.729 81.4128 21.794 82.6708 19.346L79.3388 17.816C78.5228 19.907 75.1058 19.397 75.1058 17.578ZM64.8208 13.09C63.6478 12.835 62.8658 12.41 62.8148 11.679C62.8828 9.92795 65.5858 9.85995 67.1668 11.543L69.6658 9.62195C68.1018 7.71795 66.3338 7.20795 64.5148 7.20795C61.7438 7.20795 59.0578 8.77195 59.0578 11.73C59.0578 14.603 61.2678 16.15 63.6988 16.524C64.9398 16.694 66.3168 17.187 66.2828 18.037C66.1808 19.652 62.8488 19.567 61.3358 17.731L58.9218 19.992C60.3328 21.811 62.2538 22.729 64.0558 22.729C66.8268 22.729 69.9038 21.131 70.0228 18.207C70.1928 14.518 67.5068 13.583 64.8208 13.09ZM53.4308 22.525H57.2388V7.42895H53.4308V22.525ZM117.64 7.42895H111.996V13.77L115.753 17.153V10.999H117.759C119.034 10.999 119.663 11.611 119.663 12.597V17.306C119.663 18.292 119.068 18.955 117.759 18.955H111.979V22.542H117.64C120.666 22.559 123.505 21.046 123.505 17.578V12.512C123.505 8.97595 120.666 7.42895 117.64 7.42895ZM89.9468 7.22495C86.8188 7.22495 83.7078 8.92495 83.7078 12.41V17.561C83.7078 21.012 86.8358 22.746 89.9808 22.746C93.1088 22.746 96.2198 21.012 96.2198 17.561V12.41C96.2198 8.94195 93.0748 7.22495 89.9468 7.22495ZM92.3948 17.561C92.3948 18.649 91.1708 19.21 89.9638 19.21C88.7398 19.21 87.5158 18.683 87.5158 17.561V12.41C87.5158 11.305 88.7058 10.71 89.8958 10.71C91.1368 10.71 92.3948 11.237 92.3948 12.41V17.561ZM109.888 12.41C109.803 8.87395 107.389 7.44595 104.278 7.44595H98.2428V22.542H102.102V17.748H102.782L106.284 22.542H111.044L106.93 17.357C108.749 16.779 109.888 15.198 109.888 12.41ZM104.346 14.45H102.102V10.999H104.346C106.743 10.999 106.743 14.45 104.346 14.45Z\"></path>\n//       </g>\n//     </svg>\n//   );\n// }\n\nexport default function Logo() {\n  return (\n    <Text fontSize=\"lg\" fontWeight=\"extrabold\">\n      File Drive\n    </Text>\n  );\n}\n","import { Button, Flex } from \"@chakra-ui/react\";\nimport Logo from \"components/shared/Logo\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\n\nexport default function Navbar() {\n  const current = userStore((state) => state.current);\n\n  return (\n    <Flex\n      as=\"nav\"\n      align=\"center\"\n      justify=\"space-between\"\n      wrap=\"wrap\"\n      w=\"100%\"\n      mb={8}\n      p={8}\n    >\n      <Flex align=\"center\">\n        <Logo />\n      </Flex>\n\n      <Flex align=\"center\" justify={\"flex-end\"}>\n        {current ? (\n          <Link to=\"/home\">\n            <Button\n              _hover={{ bg: \"highlight.hover\" }}\n              _active={{ bg: \"highlight.active\" }}\n              _focus={{ boxShadow: \"none\" }}\n              size=\"md\"\n              rounded=\"md\"\n              variant=\"outline\"\n            >\n              Open App\n            </Button>\n          </Link>\n        ) : (\n          <>\n            <Link to=\"/login\">\n              <Button\n                color=\"white\"\n                _hover={{ bg: \"highlight.hover\" }}\n                _active={{ bg: \"highlight.active\" }}\n                _focus={{ boxShadow: \"none\" }}\n                size=\"md\"\n                rounded=\"md\"\n                variant=\"outline\"\n                mx=\"4\"\n              >\n                Login\n              </Button>\n            </Link>\n\n            <Link to=\"/register\">\n              <Button\n                _hover={{ bg: \"highlight.hover\" }}\n                _active={{ bg: \"highlight.active\" }}\n                _focus={{ boxShadow: \"none\" }}\n                size=\"md\"\n                rounded=\"md\"\n                variant=\"outline\"\n              >\n                Register\n              </Button>\n            </Link>\n          </>\n        )}\n      </Flex>\n    </Flex>\n  );\n}\n","import { Flex } from \"@chakra-ui/react\";\nimport Footer from \"components/sections/Footer\";\nimport Navbar from \"components/sections/Navbar\";\nimport React from \"react\";\n\nexport default function LandingLayout({ children }) {\n  return (\n    <Flex direction=\"column\" align=\"center\" maxW={{ xl: \"1200px\" }} m=\"0 auto\">\n      <Navbar />\n      {children}\n      <Footer />\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Flex,\n  Image,\n  Link as CLink,\n  Heading,\n  Stack,\n  Text,\n} from \"@chakra-ui/react\";\n\nexport default function Hero({\n  title,\n  subtitle,\n  image,\n  ctaLink,\n  ctaText,\n  ...rest\n}) {\n  return (\n    <Flex\n      align=\"center\"\n      justify={{ base: \"center\", md: \"space-around\", xl: \"space-between\" }}\n      direction={{ base: \"column-reverse\", md: \"row\" }}\n      wrap=\"nowrap\"\n      minH=\"70vh\"\n      px={8}\n      mb={16}\n      {...rest}\n    >\n      <Stack\n        spacing={4}\n        w={{ base: \"80%\", md: \"40%\" }}\n        align={[\"center\", \"center\", \"flex-start\", \"flex-start\"]}\n      >\n        <Heading\n          as=\"h1\"\n          size=\"xl\"\n          fontWeight=\"bold\"\n          textAlign={[\"center\", \"center\", \"left\", \"left\"]}\n        >\n          {title}\n        </Heading>\n        <Heading\n          as=\"h2\"\n          size=\"md\"\n          opacity=\"0.8\"\n          fontWeight=\"normal\"\n          lineHeight={1.5}\n          textAlign={[\"center\", \"center\", \"left\", \"left\"]}\n        >\n          {subtitle}\n        </Heading>\n        <Link to={ctaLink}>\n          <Button\n            colorScheme=\"blue\"\n            borderRadius=\"8px\"\n            py=\"4\"\n            px=\"4\"\n            lineHeight=\"1\"\n            size=\"md\"\n          >\n            {ctaText}\n          </Button>\n        </Link>\n        <Text fontSize=\"xs\" mt={2} textAlign=\"center\" opacity=\"0.6\">\n          Got an account already?{\" \"}\n          <CLink as={Link} to=\"/login\">\n            Sign in\n          </CLink>\n        </Text>\n      </Stack>\n      <Box w={{ base: \"80%\", sm: \"60%\", md: \"50%\" }} mb={{ base: 12, md: 0 }}>\n        <Image src={image} size=\"50%\" rounded=\"1rem\" />\n      </Box>\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport LandingLayout from \"components/layouts/LandingLayout\";\nimport Hero from \"components/sections/Hero\";\n\nexport default function Landing() {\n  return (\n    <LandingLayout>\n      <Hero\n        title=\"File Drive\"\n        subtitle=\"A file management system\"\n        image=\"/landing-doc.jpeg\"\n        ctaText=\"Get Started\"\n        ctaLink=\"/register\"\n      />\n    </LandingLayout>\n  );\n}\n","import {\n  Box,\n  Button,\n  Flex,\n  Heading,\n  Image,\n  Link,\n  Text,\n} from \"@chakra-ui/react\";\nimport { login } from \"api/handler/auth\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { Link as RLink, useHistory } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport InputField from \"components/shared/InputField\";\nimport { LoginSchema } from \"validation/auth.schema\";\n\nexport default function Login() {\n  const [error, setError] = React.useState(null);\n\n  const history = useHistory();\n\n  const setUser = userStore((state) => state.setUser);\n\n  const handleSubmit = async (values, { setErrors }) => {\n    try {\n      const { data } = await login(values);\n      if (data) {\n        let { auth_token: token } = data;\n        setUser(token);\n        //\n        localStorage.setItem(\"token\", token);\n        history.push(\"/home\");\n      }\n    } catch (err) {\n      console.log({ err });\n      if (err?.response?.status === 401) {\n        setErrors({ password: \"Invalid credentials\" });\n      } else if (err?.response?.status === 404) {\n        setErrors({ email: \"No user found\" });\n      } else if (err?.response?.status === 400) {\n        setError(err.response?.data?.non_field_errors);\n      } else if (err?.response?.status === 500) {\n        setError(\"Server error\");\n      } else {\n        setErrors(toErrorMap(err));\n      }\n    }\n  };\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\" textAlign=\"center\">\n        <Flex\n          mb=\"4\"\n          justify=\"center\"\n          onClick={() => history.push(\"/\")}\n          cursor=\"pointer\"\n        >\n          <Image src=\"/discord-logo.png\" w=\"80px\" />\n        </Flex>\n        <Flex mb=\"4\" justify=\"center\">\n          <Text variant=\"small\" color=\"red.300\">\n            {error}\n          </Text>\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box textAlign=\"center\">\n            <Heading fontSize=\"24px\">Welcome Back</Heading>\n          </Box>\n          <Box my={4} textAlign=\"left\">\n            <Formik\n              initialValues={{ email: \"\", password: \"\" }}\n              validationSchema={LoginSchema}\n              onSubmit={handleSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <InputField\n                    label=\"Email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    type=\"email\"\n                  />\n                  <InputField\n                    label=\"password\"\n                    name=\"password\"\n                    autoComplete=\"password\"\n                    type=\"password\"\n                  />\n\n                  <Box mt={4}>\n                    <Link\n                      as={RLink}\n                      to=\"/forgot-password\"\n                      textColor=\"highlight.standard\"\n                    >\n                      Forgot Password?\n                    </Link>\n                  </Box>\n\n                  <Button\n                    background=\"highlight.standard\"\n                    color=\"white\"\n                    width=\"full\"\n                    mt={4}\n                    type=\"submit\"\n                    isLoading={isSubmitting}\n                    _hover={{ bg: \"highlight.hover\" }}\n                    _active={{ bg: \"highlight.active\" }}\n                    _focus={{ boxShadow: \"none\" }}\n                  >\n                    Login\n                  </Button>\n                  <Text mt=\"4\">\n                    Don't have an account yet?{\" \"}\n                    <Link\n                      as={RLink}\n                      to=\"/register\"\n                      textColor=\"highlight.standard\"\n                    >\n                      Sign Up\n                    </Link>\n                  </Text>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport {\n  Box,\n  Button,\n  Flex,\n  Heading,\n  Image,\n  Link,\n  Text,\n} from \"@chakra-ui/react\";\nimport { Form, Formik } from \"formik\";\nimport { Link as RLink, useHistory } from \"react-router-dom\";\nimport InputField from \"components/shared/InputField\";\nimport { register } from \"api/handler/auth\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport { RegisterSchema } from \"validation/auth.schema\";\n\nexport default function Register() {\n  const [error, setError] = React.useState(null);\n\n  const history = useHistory();\n\n  const handleSubmit = async (values, { setErrors }) => {\n    try {\n      const { data } = await register(values);\n      if (data) {\n        history.push(\"/login\");\n      }\n    } catch (err) {\n      if (err?.response?.status === 400) {\n        setError(err.response?.data?.non_field_errors);\n      } else if (err?.response?.status === 500) {\n        setError(\"Server error\");\n      } else {\n        setErrors(toErrorMap(err));\n      }\n    }\n  };\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\" textAlign=\"center\">\n        <Flex\n          mb=\"4\"\n          justify=\"center\"\n          onClick={() => history.push(\"/\")}\n          cursor=\"pointer\"\n        >\n          <Image src=\"/discord-logo.png\" w=\"80px\" />\n        </Flex>\n        <Flex mb=\"4\" justify=\"center\">\n          <Text variant=\"small\" color=\"red.300\">\n            {error}\n          </Text>\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box textAlign=\"center\">\n            <Heading fontSize=\"24px\">Welcome to Document Repository</Heading>\n          </Box>\n          <Box my={4} textAlign=\"left\">\n            <Formik\n              initialValues={{ email: \"\", password: \"\" }}\n              validationSchema={RegisterSchema}\n              onSubmit={handleSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <InputField\n                    label=\"Full Name\"\n                    name=\"name\"\n                    autoComplete=\"name\"\n                    type=\"text\"\n                  />\n                  <InputField\n                    label=\"Email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    type=\"email\"\n                  />\n\n                  <InputField\n                    label=\"password\"\n                    name=\"password\"\n                    autoComplete=\"password\"\n                    type=\"password\"\n                  />\n\n                  <Button\n                    background=\"highlight.standard\"\n                    color=\"white\"\n                    width=\"full\"\n                    mt={4}\n                    type=\"submit\"\n                    isLoading={isSubmitting}\n                    _hover={{ bg: \"highlight.hover\" }}\n                    _active={{ bg: \"highlight.active\" }}\n                    _focus={{ boxShadow: \"none\" }}\n                  >\n                    Register\n                  </Button>\n                  <Text mt=\"4\">\n                    Already have an account?{\" \"}\n                    <Link as={RLink} to=\"/login\" textColor=\"highlight.standard\">\n                      Sign In\n                    </Link>\n                  </Text>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n","import {\n  Box,\n  Button,\n  Flex,\n  Heading,\n  Image,\n  Link,\n  Text,\n} from \"@chakra-ui/react\";\nimport { resetPassword } from \"api/handler/auth\";\nimport { Form, Formik } from \"formik\";\nimport React, { useState } from \"react\";\nimport { Link as RLink, useHistory, useParams } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport InputField from \"components/shared/InputField\";\nimport { ResetPasswordSchema } from \"validation/auth.schema\";\n\nexport default function ResetPassword() {\n  const history = useHistory();\n  const { token } = useParams();\n  const [tokenError, setTokenError] = useState(\"\");\n  const setUser = userStore((state) => state.setUser);\n  async function handleSubmit(values, { setErrors }) {\n    try {\n      const { data } = await resetPassword({ ...values, token });\n      if (data) {\n        setUser(data);\n        history.push(\"/channels/me\");\n      }\n    } catch (err) {\n      const errorMap = toErrorMap(err);\n      if (\"token\" in errorMap) {\n        setTokenError(errorMap.token);\n      }\n      setErrors(errorMap);\n    }\n  }\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\" textAlign=\"center\">\n        <Flex mb=\"4\" justify=\"center\">\n          <Image src=\"/logo.png\" w=\"80px\" />\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box textAlign=\"center\">\n            <Heading fontSize=\"24px\">Reset Password</Heading>\n          </Box>\n          <Box my={4} textAlign=\"left\">\n            <Formik\n              initialValues={{ newPassword: \"\", confirmNewpassword: \"\" }}\n              validationSchema={ResetPasswordSchema}\n              onSubmit={handleSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <InputField\n                    label=\"New Password\"\n                    name=\"newPassword\"\n                    autoComplete=\"new-password\"\n                    type=\"password\"\n                  />\n\n                  <InputField\n                    label=\"Confirm New Password\"\n                    name=\"confirmNewPassword\"\n                    type=\"password\"\n                  />\n\n                  <Button\n                    background=\"highlight.standard\"\n                    color=\"white\"\n                    width=\"full\"\n                    mt={4}\n                    type=\"submit\"\n                    isLoading={isSubmitting}\n                    _hover={{ bg: \"highlight.hover\" }}\n                    _active={{ bg: \"highlight.active\" }}\n                    _focus={{ boxShadow: \"none\" }}\n                  >\n                    Reset Password\n                  </Button>\n                </Form>\n              )}\n            </Formik>\n            {tokenError ? (\n              <Flex direction=\"column\" mt=\"4\" justify=\"center\" align=\"center\">\n                <Text>Invalid or expired token.</Text>\n                <Link as={RLink} to=\"/forgot-password\" color=\"red\">\n                  Click here to get a new token\n                </Link>\n              </Flex>\n            ) : null}\n          </Box>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n","import { Flex, GridItem } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { Input } from \"@chakra-ui/react\";\n\nexport default function UserListHeader({ handleSearch }) {\n  return (\n    <GridItem\n      gridColumn={3}\n      gridRow={\"1\"}\n      bg=\"brandGray.light\"\n      padding=\"10px\"\n      zIndex=\"2\"\n      boxShadow=\"md\"\n    >\n      <Flex align=\"center\" justify=\"space-between\" p=\"2\">\n        <Input placeholder=\"Search users\" onChange={handleSearch} />\n      </Flex>\n    </GridItem>\n  );\n}\n","import {\n  Avatar,\n  AvatarBadge,\n  Flex,\n  IconButton,\n  ListItem,\n  Text,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Tag,\n  TagLabel,\n  Tr,\n  Td,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { FaEllipsisV, FaUser } from \"react-icons/fa\";\nimport { useHistory } from \"react-router-dom\";\nimport { ACCESS_LEVELS } from \"../../config\";\n\nexport default function UserListItem({ user }) {\n  const history = useHistory();\n\n  return (\n    <Tr\n      _hover={{\n        bg: \"brandGray.dark\",\n      }}\n    >\n      <Td>\n        <Flex align=\"center\" w={\"full\"} _hover={{ cursor: \"pointer\" }}>\n          <Avatar size=\"sm\" src={user?.image}>\n            <AvatarBadge\n              boxSize=\"1.25em\"\n              bg={user.isOnline ? \"green.500\" : \"gray.500\"}\n            />\n          </Avatar>\n          <Text ml=\"2\" fontSize=\"sm\">\n            {user?.name}\n          </Text>\n        </Flex>\n      </Td>\n\n      <Td>\n        <Tag\n          size=\"md\"\n          borderRadius=\"full\"\n          variant=\"subtle\"\n          colorScheme={\"cyan\"}\n        >\n          <TagLabel>{ACCESS_LEVELS[user?.access_level]}</TagLabel>\n        </Tag>\n      </Td>\n\n      <Td>\n        <Tag\n          size=\"md\"\n          borderRadius=\"full\"\n          variant=\"solid\"\n          colorScheme={user.is_active ? \"green\" : \"red\"}\n        >\n          <TagLabel>{user.is_active ? \"Active\" : \"Inactive\"}</TagLabel>\n        </Tag>\n      </Td>\n\n      <Td>\n        <Menu>\n          <MenuButton\n            as={IconButton}\n            aria-label=\"Options\"\n            icon={<FaEllipsisV />}\n            variant=\"outline\"\n          />\n          <MenuList>\n            <MenuItem\n              icon={<FaUser />}\n              command=\"⌘T\"\n              onClick={() => history.push(`/users/${user?.pk}`)}\n            >\n              View user\n            </MenuItem>\n          </MenuList>\n        </Menu>\n      </Td>\n    </Tr>\n  );\n}\n","import { Flex, Text, Box, Table, Thead, Tbody, Th, Tr } from \"@chakra-ui/react\";\nimport UserListItem from \"../../../items/UserListItem\";\nimport OnlineLabel from \"components/sections/OnlineLabel\";\nimport React from \"react\";\n\nexport default function UserList({ users }) {\n  if (users?.length === 0) {\n    return (\n      <Flex justify={\"center\"} align={\"center\"} w={\"full\"}>\n        <Text textColor={\"brandGray.accent\"}>No files uploaded yet</Text>\n      </Flex>\n    );\n  }\n\n  return (\n    <Box w=\"full\">\n      <OnlineLabel label={`Files — ${users?.length || 0}`} />\n      <Table w=\"full\">\n        <Thead bg=\"brandGray.darker\" p=\"2\" mx=\"2\">\n          <Tr>\n            <Th>Name</Th>\n            <Th>Access level</Th>\n            <Th>status</Th>\n            <Th>Action</Th>\n          </Tr>\n        </Thead>\n\n        <Tbody>\n          {users?.map((user) => (\n            <UserListItem key={user.id} user={user} />\n          ))}\n        </Tbody>\n      </Table>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { GridItem } from \"@chakra-ui/react\";\nimport UserListHeader from \"./UserListHeader\";\nimport UserList from \"./UserList\";\nimport { scrollbarCss } from \"utils/theme\";\nimport { useUserList } from \"../../../../api/handler/users\";\nimport Loading from \"../../../items/Loading\";\nimport { useFilteredData } from \"../../../../hooks/useFilterData\";\n\nexport default function UsersDashboard() {\n  const { data: users, isLoading } = useUserList();\n\n  // assumes search field is called name\n  const { filteredData, handleSearch } = useFilteredData(users);\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <UserListHeader handleSearch={handleSearch} />\n      <GridItem\n        gridColumn={3}\n        gridRow={\"2\"}\n        bg=\"brandGray.light\"\n        mr=\"5px\"\n        display=\"flex\"\n        overflowY=\"auto\"\n        css={scrollbarCss}\n      >\n        <UserList users={filteredData || users} />\n      </GridItem>\n    </>\n  );\n}\n","import React from \"react\";\nimport AppLayout from \"../components/layouts/AppLayout\";\nimport Sidebar from \"../components/layouts/home/Sidebar\";\nimport GuildList from \"../components/layouts/guild/GuildList\";\nimport UsersDashboard from \"../components/layouts/home/dashboard/UsersDashboard\";\n\nconst Users = () => {\n  return (\n    <AppLayout>\n      <GuildList />\n      <Sidebar />\n      <UsersDashboard />\n    </AppLayout>\n  );\n};\n\nexport default Users;\n","import {\n  Avatar,\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Heading,\n  LightMode,\n  Spacer,\n  Tooltip,\n  useDisclosure,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { Form, Formik } from \"formik\";\nimport React, { useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport ChangePasswordModal from \"components/modals/ChangePasswordModal\";\nimport InputField from \"components/shared/InputField\";\nimport SelectField from \"../components/shared/SelectField\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport {\n  useUserById,\n  useUpdateUser,\n  useCurrentUser,\n} from \"../api/handler/users\";\nimport Loading from \"../components/items/Loading\";\n\nexport default function UserProfile() {\n  const { userId } = useParams();\n  const { data: user, isLoading } = useUserById(userId);\n\n  const { data: loggedInUser } = useCurrentUser();\n\n  // admin user cannot edit their fields\n  const isFieldDisabled = loggedInUser?.email === user?.email;\n\n  const updateMutation = useUpdateUser();\n\n  const history = useHistory();\n\n  async function handleUpdateUser(values, { setErrors }) {\n    try {\n      values = { ...values, access_level: +values.accessLevel };\n      delete values.email;\n      delete values.accessLevel;\n      updateMutation.mutate({ ...values, userId });\n    } catch (err) {\n      setErrors(toErrorMap(err));\n    }\n  }\n\n  const toggleActiveStatus = () => {\n    let isActive = !user?.is_active;\n\n    updateMutation.mutate({ userId, is_active: isActive });\n\n    console.log({ isActive });\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\">\n        <Flex mb=\"4\" justify=\"center\">\n          <Heading fontSize=\"24px\">{`${\n            user?.name || \"USER\"\n          }'s Profile`}</Heading>\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box>\n            <Formik\n              initialValues={{\n                email: user?.email,\n                name: user?.name,\n                accessLevel: user?.access_level,\n                role: user?.role,\n                image: null,\n              }}\n              onSubmit={handleUpdateUser}\n            >\n              {({ isSubmitting, values }) => (\n                <Form>\n                  <Box my={4}>\n                    <InputField\n                      value={values.name}\n                      placeholder=\"Full name\"\n                      label=\"name\"\n                      name=\"name\"\n                      autoComplete=\"name\"\n                    />\n                    <InputField\n                      value={values.email}\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      label=\"Email\"\n                      name=\"email\"\n                      autoComplete=\"email\"\n                      disabled\n                    />\n\n                    <SelectField\n                      value={values.accessLevel}\n                      label=\"access level\"\n                      name=\"accessLevel\"\n                      autoComplete=\"access_level\"\n                      isDisabled={isFieldDisabled}\n                    >\n                      <option value={0}>Lowest</option>\n                      <option value={1}>Restricted</option>\n                      <option value={2}>Confidential</option>\n                      <option value={3}>Secret</option>\n                      <option value={4}>Top Secret</option>\n                    </SelectField>\n\n                    <SelectField\n                      value={values.role}\n                      label=\"role\"\n                      name=\"role\"\n                      autoComplete=\"role\"\n                      isDisabled={isFieldDisabled}\n                    >\n                      <option value={1}>Admin</option>\n                      <option value={2}>Normal</option>\n                    </SelectField>\n\n                    <Flex my={8} align={\"end\"}>\n                      <Spacer />\n                      <Button\n                        mr={4}\n                        colorScheme=\"white\"\n                        variant=\"outline\"\n                        onClick={history.goBack}\n                        fontSize={\"14px\"}\n                      >\n                        Close\n                      </Button>\n\n                      <LightMode>\n                        <Button\n                          type=\"submit\"\n                          colorScheme=\"green\"\n                          isLoading={isSubmitting}\n                          fontSize={\"14px\"}\n                        >\n                          Update\n                        </Button>\n                      </LightMode>\n                    </Flex>\n                  </Box>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n          <Divider my={\"4\"} />\n          {!isFieldDisabled && (\n            <>\n              <Flex>\n                <Heading fontSize=\"18px\">AUTHENTICATION</Heading>\n              </Flex>\n\n              <Flex mt=\"4\">\n                <Button\n                  background={user?.is_active ? \"red.400\" : \"green.400\"}\n                  color=\"white\"\n                  type=\"submit\"\n                  _hover={{ bg: \"highlight.hover\" }}\n                  _active={{ bg: \"highlight.active\" }}\n                  _focus={{ boxShadow: \"none\" }}\n                  fontSize={\"14px\"}\n                  w=\"2xl\"\n                  onClick={toggleActiveStatus}\n                >\n                  {user?.is_active ? \"Deactivate\" : \"Activate\"}\n                </Button>\n\n                <Spacer />\n              </Flex>\n            </>\n          )}\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport {\n  AlertDialog,\n  AlertDialogOverlay,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogBody,\n  AlertDialogFooter,\n  Button,\n} from \"@chakra-ui/react\";\n\nexport default function AlertDialogModal({\n  isOpen,\n  onClose,\n  title,\n  message,\n  handleSubmit,\n}) {\n  const cancelRef = React.useRef();\n\n  return (\n    <AlertDialog\n      isOpen={isOpen}\n      leastDestructiveRef={cancelRef}\n      onClose={onClose}\n    >\n      <AlertDialogOverlay>\n        <AlertDialogContent>\n          <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\">\n            {title}\n          </AlertDialogHeader>\n\n          <AlertDialogBody>{message}</AlertDialogBody>\n\n          <AlertDialogFooter>\n            <Button ref={cancelRef} onClick={onClose}>\n              Cancel\n            </Button>\n            <Button colorScheme=\"red\" onClick={handleSubmit} ml={3}>\n              Yes\n            </Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialogOverlay>\n    </AlertDialog>\n  );\n}\n","import {\n  Avatar,\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Heading,\n  LightMode,\n  Spacer,\n  Tooltip,\n  useDisclosure,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { getAccount, updateAccount } from \"api/handler/account\";\nimport { logout } from \"api/handler/auth\";\nimport { Form, Formik } from \"formik\";\nimport React, { useRef, useState } from \"react\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport { useHistory } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\nimport { aKey } from \"utils/querykeys\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport ChangePasswordModal from \"components/modals/ChangePasswordModal\";\nimport CropImageModal from \"components/modals/CropImageModal\";\nimport InputField from \"components/shared/InputField\";\nimport SelectField from \"../components/shared/SelectField\";\nimport { UserSchema } from \"validation/auth.schema\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { useCurrentUser } from \"../api/handler/users\";\nimport {\n  useDeleteFile,\n  useFileById,\n  useUpdateFile,\n} from \"../api/handler/files\";\nimport Loading from \"../components/items/Loading\";\nimport AlertDialogModal from \"../components/modals/AlertDialogModal\";\n\nexport default function FileDetails() {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const onClose = () => setIsOpen(false);\n\n  const { fileId } = useParams();\n\n  // get this user\n  const { data: file, isLoading } = useFileById(fileId);\n\n  const { data: currentUser } = useCurrentUser();\n\n  const updateMutation = useUpdateFile();\n\n  const deleteMutation = useDeleteFile();\n\n  const isAdmin = currentUser?.role === 1;\n\n  const history = useHistory();\n\n  async function handleUpdateFile(values, { setErrors }) {\n    try {\n      values = { ...values, access_level: +values.accessLevel };\n      delete values.accessLevel;\n      console.log({ values });\n      updateMutation.mutate({ ...values, fileId });\n    } catch (err) {\n      setErrors(toErrorMap(err));\n    }\n  }\n\n  function handleDeleteFile() {\n    deleteMutation.mutate({ fileId });\n    history.push(\"/files\");\n  }\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\">\n        <Flex mb=\"4\" justify=\"center\">\n          <Heading fontSize=\"24px\">FILE DETAILS</Heading>\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box>\n            <Formik\n              initialValues={{\n                name: file?.name,\n                type: file?.type,\n                accessLevel: file?.access_level,\n              }}\n              onSubmit={handleUpdateFile}\n            >\n              {({ isSubmitting, values }) => (\n                <Form>\n                  <Box my={4}>\n                    <InputField\n                      value={values.name}\n                      placeholder=\"File name\"\n                      label=\"name\"\n                      name=\"name\"\n                      autoComplete=\"name\"\n                    />\n\n                    <InputField\n                      value={values.type}\n                      placeholder=\"File type\"\n                      label=\"type\"\n                      name=\"type\"\n                      autoComplete=\"type\"\n                      isDisabled\n                    />\n\n                    <SelectField\n                      value={values.accessLevel}\n                      label=\"access level\"\n                      name=\"accessLevel\"\n                      autoComplete=\"access_level\"\n                      isDisabled={!isAdmin}\n                    >\n                      <option value={0}>Lowest</option>\n                      <option value={1}>Restricted</option>\n                      <option value={2}>Confidential</option>\n                      <option value={3}>Secret</option>\n                      <option value={4}>Top Secret</option>\n                    </SelectField>\n\n                    <Flex my={8} align={\"end\"}>\n                      <Spacer />\n                      <Button\n                        mr={4}\n                        colorScheme=\"white\"\n                        variant=\"outline\"\n                        onClick={history.goBack}\n                        fontSize={\"14px\"}\n                      >\n                        Close\n                      </Button>\n\n                      <LightMode>\n                        <Button\n                          type=\"submit\"\n                          colorScheme=\"green\"\n                          isLoading={isSubmitting}\n                          fontSize={\"14px\"}\n                        >\n                          Update\n                        </Button>\n                      </LightMode>\n                    </Flex>\n                  </Box>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n          <Divider my={\"4\"} />\n          <Flex mt=\"4\">\n            <span></span>\n\n            <Button\n              colorScheme=\"red\"\n              fontSize={\"14px\"}\n              onClick={() => setIsOpen(true)}\n            >\n              Delete File\n            </Button>\n          </Flex>\n        </Box>\n      </Box>\n      {isOpen && (\n        <AlertDialogModal\n          isOpen={isOpen}\n          onClose={onClose}\n          handleSubmit={handleDeleteFile}\n          title=\"Delete File\"\n          message=\"Are you sure? You can't undo this action afterwards.\"\n        />\n      )}\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Account from \"./pages/Account\";\nimport AuthRoute from \"./pages/AuthRoute\";\nimport ForgotPassword from \"./pages/ForgotPassword\";\nimport Home from \"./pages/Home\";\nimport Landing from \"./pages/Landing\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport ResetPassword from \"./pages/ResetPassword\";\nimport Users from \"./pages/Users\";\nimport UserProfile from \"./pages/UserProfile\";\nimport FileDetails from \"./pages/FileDetails\";\n\nexport default function App() {\n  return (\n    <Switch>\n      {/*  Public */}\n      <Route exact path=\"/\" component={Landing} />\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/register\" component={Register} />\n      <Route path=\"/forgot-password\" component={ForgotPassword} />\n      <Route path=\"/reset-password/:token\" component={ResetPassword} />\n\n      {/** Private */}\n      <AuthRoute path=\"/home\" component={Home} />\n      <AuthRoute path=\"/files/:fileId\" component={FileDetails} />\n      <AuthRoute path=\"/files\" component={Home} />\n\n      <AuthRoute path=\"/users/:userId\" component={UserProfile} />\n      <AuthRoute path=\"/users\" component={Users} />\n\n      {/** user account profile */}\n      <AuthRoute path=\"/account\" component={Account} />\n    </Switch>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport userStore from \"stores/userStore\";\nimport homeStore from \"stores/homeStore\";\n\nexport default function GlobalState({ children }) {\n  const current = userStore((state) => state.current);\n  const inc = homeStore((state) => state.increment);\n\n  useEffect(() => {\n    if (current) {\n    }\n  }, [current, inc]);\n\n  return <>{children}</>;\n}\n","import { ChakraProvider, ColorModeScript } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport customTheme from \"utils/theme\";\nimport GlobalState from \"./components/sections/GlobalState\";\n\nconst client = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: true,\n      staleTime: Infinity,\n      cacheTime: 0,\n    },\n  },\n});\n\nexport default function AppProviders({ children }) {\n  return (\n    <QueryClientProvider client={client}>\n      <ColorModeScript />\n      <ChakraProvider theme={customTheme}>\n        <GlobalState>\n          <Router>{children}</Router>\n        </GlobalState>\n      </ChakraProvider>\n    </QueryClientProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport AppProviders from \"./AppProviders\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <AppProviders>\n    <App />\n  </AppProviders>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}